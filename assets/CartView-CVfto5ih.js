import{r as c,j as e,l as d}from"./index-BfaohvMT.js";function j({orderKey:b,onSave:x,onModify:m}){const[s,l]=c.useState({}),[h,i]=c.useState(0);c.useEffect(()=>{(async()=>{const t=await d.getItem("cart")||{};l(t);const r=Object.values(t).reduce((n,a)=>n+(parseFloat(a.finalPrice)||0)*(a.quantity||0),0);i(r)})()},[]);const u=async()=>{window.confirm("Clear all items from the cart?")&&(await d.setItem("cart",{}),l({}),i(0),window.dispatchEvent(new Event("cartUpdated")))};return e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"ðŸ›’ Cart"}),e.jsx("button",{onClick:u,className:"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600",children:"Clear Cart"})]}),Object.keys(s).length===0?e.jsx("p",{className:"text-gray-500",children:"Cart is empty"}):Object.entries(s).map(([o,t])=>e.jsxs("div",{className:"border-b py-2",children:[e.jsx("div",{className:"mb-1",children:Object.entries(t).map(([r,n])=>{const a=r.toLowerCase();return["code","particulars","description","name"].includes(a)?e.jsx("span",{className:"mr-2 font-semibold",children:a==="code"?`[${n}]`:n},r):null})}),e.jsxs("div",{className:"text-right",children:["Qty: ",t.quantity," Ã— â‚¹",t.finalPrice," ="," ",e.jsxs("span",{className:"font-bold",children:["â‚¹",(t.quantity*parseFloat(t.finalPrice)).toFixed(2)]})]})]},o)),Object.keys(s).length>0&&e.jsxs("div",{className:"flex justify-between items-center mt-4 p-2 border-t",children:[e.jsx("span",{className:"text-lg font-semibold",children:"Total:"}),e.jsxs("span",{className:"text-lg font-bold text-green-700",children:["â‚¹",h.toFixed(2)]})]}),Object.keys(s).length>0&&e.jsxs("div",{className:"flex justify-between mt-4",children:[e.jsx("button",{onClick:()=>m(),className:"px-3 py-1 bg-gray-500 text-white rounded hover:bg-gray-600",children:"Modify"}),e.jsx("button",{onClick:()=>x(s),className:"px-3 py-1 bg-green-600 text-white rounded hover:bg-green-700",children:"Save Order"})]})]})}export{j as default};
